(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],s=0;s<t.length;s++){var c=t[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,p="".concat(l," ").concat(u);i[l]=u+1;var d=n(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(h);else{var f=o(h,r);r.byIndex=s,e.splice(s,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var c=r(t,o),l=0;l<i.length;l++){var u=n(i[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}i=c}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},169:(t,e,n)=>{t.exports=n.p+"d56e5a89beb359219e25.svg"},218:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,".pop-up {\n  position: fixed;\n  opacity: 0;\n  z-index: -100;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #0000009a;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pop-up.active {\n  z-index: 10000;\n  opacity: 1;\n}\n.pop-up-box {\n  background: var(--color-foreground);\n  display: flex;\n  flex-flow: column nowrap;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  min-width: min(90vw, 500px);\n  justify-content: center;\n  text-align: center;\n  gap: 0.5rem;\n}\n.pop-up.initial .pop-up-box {\n  text-align: left;\n}\n.pop-up-box .pop-up-heading {\n  font-size: 1.6rem;\n  text-transform: capitalize;\n  font-weight: 600;\n}\n.pop-up-box fieldset {\n  display: none;\n  border-radius: 0.2rem;\n}\n.pop-up-box input {\n  font: inherit;\n  background: inherit;\n  font-size: 1rem;\n  color: inherit;\n  border: none;\n  padding: 0.5em;\n  outline: none;\n  width: 100%;\n}\n.pop-up-box input::placeholder {\n  color: var(--color-text-light);\n}\n.pop-up-btns {\n  margin-top: 1rem;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n}\n.pop-up.initial .pop-up-btns {\n  justify-content: flex-end;\n}\n.confirm-name-btn {\n  display: none;\n}\n.pop-up.initial .pop-up-box fieldset,\n.pop-up.initial .confirm-name-btn {\n  display: initial;\n}\n\n.pop-up.initial .play-again-btn {\n  display: none;\n}\n",""]);const s=a},250:(t,e,n)=>{t.exports=n.p+"0504ee6feab7e47038d3.svg"},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n}).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),e.push(u))}},e}},319:(t,e,n)=>{t.exports=n.p+"410922291a6b4e310f13.woff2"},417:t=>{t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},427:(t,e,n)=>{t.exports=n.p+"008846a84b2a34dde315.svg"},493:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),s=n(417),c=n.n(s),l=new URL(n(319),n.b),u=new URL(n(551),n.b),p=a()(o()),d=c()(l),h=c()(u);p.push([t.id,`/* Outfit Variable Font */\n@font-face {\n  font-family: "Outfit";\n  src:\n    url(${d}) format("woff2"),\n    url(${h}) format("woff");\n  font-weight: 100 900;\n  font-style: normal;\n  font-display: swap;\n}\n`,""]);const f=p},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},551:(t,e,n)=>{t.exports=n.p+"e4686718b6ebfa5f3cb6.woff"},555:(t,e,n)=>{t.exports=n.p+"543bf6eb30d63dfd7a2f.svg"},601:t=>{t.exports=function(t){return t[1]}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},790:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,'/* === CSS RESET === */\n*,\n*::before,\n*::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  line-height: 1.5;\n  -webkit-text-size-adjust: 100%;\n  -webkit-font-smoothing: antialiased;\n}\n\nul,\nol {\n  list-style: none;\n}\n\nbutton,\ninput,\nselect,\ntextarea {\n  font: inherit;\n}\n\ninput::placeholder {\n  color: inherit;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\nimg,\npicture,\nsvg,\nvideo,\ncanvas {\n  max-width: 100%;\n  height: auto;\n  display: block;\n}\n\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  overflow-wrap: break-word;\n}\n\n/* Accessibility */\n:focus-visible {\n  outline: 2px solid #fff;\n  outline-offset: 2px;\n}\n\nbody {\n  font-family: "Outfit", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,\n    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;\n  font-optical-sizing: auto;\n  font-weight: 400;\n  font-style: normal;\n  background-color: var(--color-background);\n  color: var(--color-text);\n}\n',""]);const s=a},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},837:(t,e,n)=>{t.exports=n.p+"56e5c8a88ff718d93efc.svg"},925:(t,e,n)=>{n.d(e,{A:()=>s});var r=n(601),o=n.n(r),i=n(314),a=n.n(i)()(o());a.push([t.id,'/* === GRID BOARD === */\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, var(--box-size));\n  grid-template-rows: repeat(10, var(--box-size));\n  position: relative;\n}\n\n/* Cursor interactions */\n.initial .human-board .box {\n  cursor: pointer;\n}\n.human-board.placed .box {\n  cursor: default;\n}\n.computer-board .box {\n  cursor: pointer;\n}\n\n/* Base Box Styling */\n.board .box {\n  background-color: var(--color-foreground-light);\n  border: 2px solid var(--color-foreground);\n  aspect-ratio: 1/1;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.board .box::before {\n  content: "";\n  opacity: 0;\n  width: 50%;\n  height: 50%;\n  aspect-ratio: 1/1;\n  background-color: var(--color-text);\n  border-radius: 50%;\n  z-index: 1000;\n  pointer-events: none;\n}\n\n/* === PREVIEW STATES === */\n.initial .board .box.preview:not(.placed) {\n  background-color: var(--color-text);\n}\n.initial .human-board.placed .box.preview:not(.placed) {\n  background-color: var(--color-foreground-light);\n}\n\n/* === ATTACK STATES === */\n.board .box.attacked::before {\n  background-color: var(--color-text);\n}\n.board .box.hit::before,\n.board .box.sunk::before {\n  background-color: var(--color-error);\n  animation: pulse-hit 0.6s ease;\n  opacity: 1;\n}\n.board .box.miss::before {\n  background-color: #9ca3af; /* gray for miss */\n  opacity: 1;\n  animation: fade-miss 0.4s ease;\n}\n\n/* === SHIPS === */\n.board .ship {\n  position: absolute;\n  z-index: 100;\n  pointer-events: none;\n  background: #fff;\n  top: calc(var(--row) * var(--box-size));\n  left: calc(var(--column) * var(--box-size));\n}\n.board .ship.Y {\n  left: calc(calc(var(--column) + 1) * var(--box-size));\n  transform: rotate(90deg);\n  transform-origin: top left;\n}\n.board .ship.active {\n  opacity: 1;\n}\n.computer-board .ship {\n  opacity: 0;\n  pointer-events: none;\n  transition: all 0.3s ease-in;\n}\n.computer-board .ship.sunk {\n  opacity: 1;\n}\n\n/* === ANIMATIONS === */\n@keyframes pulse-hit {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.2);\n    background-color: #dc2626;\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n@keyframes fade-miss {\n  from {\n    opacity: 0.4;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes sink {\n  0% {\n    background-color: #ef4444;\n  }\n  100% {\n    background-color: #111827;\n  }\n}\n',""]);const s=a},944:(t,e,n)=>{n.d(e,{A:()=>S});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),s=n(417),c=n.n(s),l=new URL(n(169),n.b),u=new URL(n(427),n.b),p=new URL(n(250),n.b),d=new URL(n(555),n.b),h=new URL(n(837),n.b),f=a()(o()),m=c()(l),y=c()(u),b=c()(p),v=c()(d),g=c()(h);f.push([t.id,`/* === CSS VARIABLES === */\n:root {\n  --color-background: #0f0f0f;\n  --color-foreground: #1e1e1e;\n  --color-foreground-light: #272727;\n  --color-text: #ffffff;\n  --color-text-light: rgb(190, 190, 190);\n  --color-success: #22c55e;\n  --color-error: #ef4444;\n  --color-warning: #facc15;\n  --box-size: min(2rem, 6vw);\n}\n\n/* === BUTTONS === */\n.btn {\n  padding: 0.3em 0.7em;\n  border-radius: 0.3em;\n  font-weight: 500;\n  cursor: pointer;\n  border: 2px solid var(--color-text);\n  background: var(--color-text);\n  color: var(--color-background);\n  transition: all 0.3s ease-in-out;\n}\n.btn:hover {\n  background: var(--color-foreground);\n  color: var(--color-text);\n}\n.btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* === MAIN CONTAINER === */\n.main-container {\n  position: relative;\n  min-height: 100vh;\n  display: flex;\n  flex-flow: column nowrap;\n  gap: 1rem;\n  padding: 1rem 0;\n  text-align: center;\n  align-items: stretch;\n}\n.main-container h1 {\n  font-size: 2.7rem;\n  text-shadow: 1px 2px rgba(255, 255, 255, 0.15);\n}\n\n/* === INFO SECTION === */\n.info-wrapper {\n  background-color: var(--color-foreground-light);\n  padding: 0.6rem;\n  display: flex;\n  flex-flow: column nowrap;\n  min-height: 3rem;\n  color: var(--color-text);\n  text-transform: capitalize;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.info-wrapper .info {\n  font-size: 1.2rem;\n  font-weight: 400;\n  transition: opacity 0.4s ease;\n  opacity: 0.85;\n  font-size: 1.2rem;\n}\n\n.info.fade-in {\n  opacity: 1;\n}\n.info.success {\n  color: var(--color-success);\n}\n.info.error {\n  color: var(--color-error);\n}\n.info.warning {\n  color: var(--color-warning);\n}\n\n/* === SHIPS SELECTION === */\n.ships-selection {\n  display: none;\n  flex-flow: row wrap;\n  gap: 1.5rem;\n  justify-content: center;\n  padding: 1rem;\n}\n.initial .ships-selection {\n  display: flex;\n}\n.ships-selection .ship {\n  height: var(--box-size);\n  width: var(--box-size);\n  background-color: var(--color-foreground-light);\n  min-width: fit-content;\n}\n.ships-selection .ship.selected,\n.ships-selection .ship:hover:not(.disabled) {\n  background-color: var(--color-text);\n  cursor: pointer;\n}\n\n/* === BOARDS WRAPPER === */\n.boards-wrapper {\n  flex: 1;\n  display: flex;\n  flex-flow: row wrap-reverse;\n  align-items: center;\n  justify-content: center;\n  gap: 1rem;\n  width: 100%;\n}\n.boards-wrapper > * {\n  background-color: var(--color-foreground);\n  min-width: fit-content;\n  padding: 1rem;\n  border-radius: 0.4rem;\n}\n.boards-wrapper > * > h3 {\n  margin-bottom: 1em;\n}\n.initial .computer-board-wrapper {\n  display: none;\n}\n\n/* === GAME BTNS === */\n.game-btns {\n  display: none;\n  gap: 1rem;\n  justify-content: center;\n}\n.initial .game-btns {\n  display: flex;\n}\n\n/* === SHIP IMAGES === */\n.ship {\n  height: var(--box-size);\n  mask-repeat: no-repeat;\n  mask-size: cover;\n  mask-position: center;\n  -webkit-mask-repeat: no-repeat;\n  -webkit-mask-size: cover;\n  -webkit-mask-position: center;\n}\n\n.ship[data-ship="battleship"] {\n  width: calc(4 * var(--box-size));\n  -webkit-mask-image: url(${m});\n  mask-image: url(${m});\n}\n.ship[data-ship="carrier"] {\n  width: calc(5 * var(--box-size));\n  -webkit-mask-image: url(${y});\n  mask-image: url(${y});\n}\n.ship[data-ship="destroyer"] {\n  width: calc(3 * var(--box-size));\n  -webkit-mask-image: url(${b});\n  mask-image: url(${b});\n}\n.ship[data-ship="submarine"] {\n  width: calc(3 * var(--box-size));\n  -webkit-mask-image: url(${v});\n  mask-image: url(${v});\n}\n.ship[data-ship="patrolBoat"] {\n  width: calc(2 * var(--box-size));\n  -webkit-mask-image: url(${g});\n  mask-image: url(${g});\n}\n\n/* === POPUP === */\n.pop-up {\n  position: fixed;\n  inset: 0;\n  opacity: 0;\n  z-index: -100;\n  background: #0000009a;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pop-up.active {\n  z-index: 10000;\n  opacity: 1;\n}\n.pop-up-box {\n  background: var(--color-foreground);\n  padding: 1rem;\n  display: flex;\n  flex-flow: column nowrap;\n  border-radius: 0.5rem;\n  min-width: min(90vw, 500px);\n  gap: 0.5rem;\n  text-align: center;\n  animation: fadeInScale 0.3s ease;\n}\n.pop-up.initial .pop-up-box {\n  text-align: left;\n}\n.pop-up-box .pop-up-heading {\n  font-size: 1.6rem;\n  text-transform: capitalize;\n  font-weight: 600;\n}\n.pop-up-box fieldset {\n  display: none;\n  border-radius: 0.2rem;\n}\n.pop-up-box input {\n  font: inherit;\n  background: inherit;\n  font-size: 1rem;\n  color: inherit;\n  border: none;\n  padding: 0.5em;\n  outline: none;\n  width: 100%;\n}\n.pop-up-box input::placeholder {\n  color: var(--color-text-light);\n}\n.pop-up-btns {\n  margin-top: 1rem;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  gap: 1rem;\n}\n.pop-up.initial .pop-up-btns {\n  justify-content: flex-end;\n}\n.confirm-name-btn {\n  display: none;\n}\n.pop-up.initial .pop-up-box fieldset,\n.pop-up.initial .confirm-name-btn {\n  display: initial;\n}\n.pop-up.initial .play-again-btn {\n  display: none;\n}\n\n/* === POPUP ANIMATION === */\n@keyframes fadeInScale {\n  from {\n    transform: scale(0.9);\n    opacity: 0;\n  }\n  to {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n`,""]);const S=f}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var r=n(72),o=n.n(r),i=n(825),a=n.n(i),s=n(659),c=n.n(s),l=n(56),u=n.n(l),p=n(540),d=n.n(p),h=n(113),f=n.n(h),m=n(493),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=d(),o()(m.A,y),m.A&&m.A.locals&&m.A.locals;var b=n(790),v={};v.styleTagTransform=f(),v.setAttributes=u(),v.insert=c().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=d(),o()(b.A,v),b.A&&b.A.locals&&b.A.locals;var g=n(944),S={};S.styleTagTransform=f(),S.setAttributes=u(),S.insert=c().bind(null,"head"),S.domAPI=a(),S.insertStyleElement=d(),o()(g.A,S),g.A&&g.A.locals&&g.A.locals;var w=n(218),k={};k.styleTagTransform=f(),k.setAttributes=u(),k.insert=c().bind(null,"head"),k.domAPI=a(),k.insertStyleElement=d(),o()(w.A,k),w.A&&w.A.locals&&w.A.locals;var x=Object.freeze({MISS:"miss",HIT:"hit",SUNK:"sunk",ALREADY:"already"}),A=Object.freeze({X:"X",Y:"Y"}),P=10,E=Object.freeze({carrier:5,battleship:4,destroyer:3,submarine:3,patrolBoat:2});function C(){return C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C.apply(this,arguments)}var I={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(t){},onComplete:function(t){},preStringTyped:function(t,e){},onStringTyped:function(t,e){},onLastStringBackspaced:function(t){},onTypingPaused:function(t,e){},onTypingResumed:function(t,e){},onReset:function(t){},onStop:function(t,e){},onStart:function(t,e){},onDestroy:function(t){}},T=new(function(){function t(){}var e=t.prototype;return e.load=function(t,e,n){if(t.el="string"==typeof n?document.querySelector(n):n,t.options=C({},I,e),t.isInput="input"===t.el.tagName.toLowerCase(),t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(t){return t.trim()}),t.stringsElement="string"==typeof t.options.stringsElement?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var r=Array.prototype.slice.apply(t.stringsElement.children),o=r.length;if(o)for(var i=0;i<o;i+=1)t.strings.push(r[i].innerHTML.trim())}for(var a in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[a]=a;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:"html"===t.contentType?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var e="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+e+"]")){var n=document.createElement("style");n.setAttribute(e,"true"),n.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(n)}},e.appendFadeOutAnimationCss=function(t){var e="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+e+"]")){var n=document.createElement("style");n.setAttribute(e,"true"),n.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(n)}},t}()),O=new(function(){function t(){}var e=t.prototype;return e.typeHtmlChars=function(t,e,n){if("html"!==n.contentType)return e;var r=t.substring(e).charAt(0);if("<"===r||"&"===r){var o;for(o="<"===r?">":";";t.substring(e+1).charAt(0)!==o&&!(1+ ++e>t.length););e++}return e},e.backSpaceHtmlChars=function(t,e,n){if("html"!==n.contentType)return e;var r=t.substring(e).charAt(0);if(">"===r||";"===r){var o;for(o=">"===r?"<":"&";t.substring(e-1).charAt(0)!==o&&!(--e<0););e--}return e},t}()),L=function(){function t(t,e){T.load(this,e,t),this.begin()}var e=t.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){void 0===t&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){0===t.strPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,e){var n=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var r=this.humanizer(this.typeSpeed),o=1;!0!==this.pause.status?this.timeout=setTimeout(function(){e=O.typeHtmlChars(t,e,n);var r=0,i=t.substring(e);if("^"===i.charAt(0)&&/^\^\d+/.test(i)){var a=1;a+=(i=/\d+/.exec(i)[0]).length,r=parseInt(i),n.temporaryPause=!0,n.options.onTypingPaused(n.arrayPos,n),t=t.substring(0,e)+t.substring(e+a),n.toggleBlinking(!0)}if("`"===i.charAt(0)){for(;"`"!==t.substring(e+o).charAt(0)&&(o++,!(e+o>t.length)););var s=t.substring(0,e),c=t.substring(s.length+1,e+o),l=t.substring(e+o+1);t=s+c+l,o--}n.timeout=setTimeout(function(){n.toggleBlinking(!1),e>=t.length?n.doneTyping(t,e):n.keepTyping(t,e,o),n.temporaryPause&&(n.temporaryPause=!1,n.options.onTypingResumed(n.arrayPos,n))},r)},r):this.setPauseStatus(t,e,!0)},e.keepTyping=function(t,e,n){0===e&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var r=t.substring(0,e+=n);this.replaceText(r),this.typewrite(t,e)},e.doneTyping=function(t,e){var n=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){n.backspace(t,e)},this.backDelay))},e.backspace=function(t,e){var n=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var r=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){e=O.backSpaceHtmlChars(t,e,n);var r=t.substring(0,e);if(n.replaceText(r),n.smartBackspace){var o=n.strings[n.arrayPos+1];n.stopNum=o&&r===o.substring(0,e)?e:0}e>n.stopNum?(e--,n.backspace(t,e)):e<=n.stopNum&&(n.arrayPos++,n.arrayPos===n.strings.length?(n.arrayPos=0,n.options.onLastStringBackspaced(),n.shuffleStringsIfNeeded(),n.begin()):n.typewrite(n.strings[n.sequence[n.arrayPos]],e))},r)}else this.setPauseStatus(t,e,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,e,n){this.pause.typewrite=n,this.pause.curString=t,this.pause.curStrPos=e},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:"html"===this.contentType?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(e){t.stop()}),this.el.addEventListener("blur",function(e){t.el.value&&0!==t.el.value.length||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},t}();function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return j(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var N={popUp:document.querySelector(".pop-up"),drawBoard:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P;if(t){t.innerHTML="",t.style.setProperty("--board-size",e);for(var n=0;n<e;n++)for(var r=0;r<e;r++){var o=document.createElement("div");o.classList.add("box"),o.dataset.row=n,o.dataset.column=r,o.setAttribute("role","gridcell"),o.setAttribute("tabindex","0"),o.setAttribute("aria-label","Cell ".concat(N.coordToLabel([n,r]))),t.appendChild(o)}}},coordToLabel:function(t){var e=B(t,2),n=e[0],r=e[1],o=String.fromCharCode("A".charCodeAt(0)+n);return"".concat(o).concat(r+1)},renderPopUp:function(t){if(this.popUp){var e=this.popUp.querySelector(".pop-up-heading");e&&(e.innerText=t),this.popUp.classList.add("active"),this.popUp.setAttribute("aria-hidden","false")}},hidePopUp:function(){this.popUp&&(this.popUp.classList.remove("active"),this.popUp.setAttribute("aria-hidden","true"))},showInfo:function(t,e){t&&(t._typedInstance&&(t._typedInstance.destroy(),t.textContent=""),t.classList.remove("fade-in"),t.offsetWidth,t._typedInstance=new L(t,{strings:[e],typeSpeed:20,showCursor:!1,onComplete:function(){t.classList.add("fade-in")}}))},renderShipOnBoard:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"X",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{name:"ship"},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t){r.forEach(function(e){var n=B(e,2),r=n[0],o=n[1],a=t.querySelector('.box[data-row="'.concat(r,'"][data-column="').concat(o,'"]'));a&&a.classList.add("placed"),a&&(a.dataset.ship=i.name)});var s=B(null!==(e=r[0])&&void 0!==e?e:[0,0],2),c=s[0],l=s[1],u=document.createElement("div");u.classList.add("ship",o),a&&u.classList.add("hidden-ship"),u.dataset.ship=i.name,u.style.setProperty("--row",c),u.style.setProperty("--column",l),u.style.setProperty("--length",null!==(n=r.length)&&void 0!==n?n:1),t.appendChild(u)}},renderAttack:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t&&((Array.isArray(n[0])?n:[n]).forEach(function(n){var r=B(n,2),o=r[0],i=r[1],a=t.querySelector('.box[data-row="'.concat(o,'"][data-column="').concat(i,'"]'));if(a){a.classList.remove("preview","preview-invalid"),a.classList.add(e);var s="Cell ".concat(N.coordToLabel([o,i])," — ").concat(e);a.setAttribute("aria-label",s)}}),e===x.SUNK&&r.shipName)){var o=t.querySelector('.ship[data-ship="'.concat(r.shipName,'"]'));o&&o.classList.add("sunk")}},clearPreviews:function(t){t&&t.querySelectorAll(".preview, .preview-invalid").forEach(function(t){return t.classList.remove("preview","preview-invalid")})}};const M=N;var U=n(925),z={};function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}function H(t){var e=function(t){if("object"!=q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:e+""}z.styleTagTransform=f(),z.setAttributes=u(),z.insert=c().bind(null,"head"),z.domAPI=a(),z.insertStyleElement=d(),o()(U.A,z),U.A&&U.A.locals&&U.A.locals;var D=function(){return function(t,e){return e&&R(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!Number.isInteger(n)||n<1)throw new Error("Ship length must be a positive integer");this.name=e,this.length=n,this.hits=0},[{key:"hit",value:function(){this.hits<this.length&&this.hits++}},{key:"isSunk",value:function(){return this.hits>=this.length}}])}();const $=D;function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function X(t,e,n){return(e=K(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K(r.key),r)}}function K(t){var e=function(t){if("object"!=F(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==F(e)?e:e+""}var Q=function(){return function(t,e){return e&&G(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=Array.from({length:P},function(){return Array.from({length:P},function(){return{state:"empty"}})}),this.fleet={},this.directions=X(X({},A.X,[0,1]),A.Y,[1,0])},[{key:"setShip",value:function(t,e,n){var r=this,o=Y(e,2),i=o[0],a=o[1];if(!E[t])throw new Error("Invalid ship: ".concat(t));if(this.fleet[t])throw new Error("".concat(t," already placed"));var s=new $(t,E[t]),c=this._checkValidPlacement([i,a],s.length,n);return c.forEach(function(e){var n=Y(e,2),o=n[0],i=n[1];r.board[o][i]={state:"ship",shipName:t}}),this.fleet[t]={ship:s,coordinates:c,axis:n},this.fleet[t]}},{key:"_checkValidPlacement",value:function(t,e,n){for(var r=Y(t,2),o=r[0],i=r[1],a=Y(this.directions[n],2),s=a[0],c=a[1],l=[],u=0;u<e;u++){var p=o+s*u,d=i+c*u;if(p<0||p>=P||d<0||d>=P)throw new Error("Invalid placement: out of bounds");if("empty"!==this.board[p][d].state)throw new Error("Invalid placement: cell already occupied");l.push([p,d])}return l}},{key:"autoPlaceFleet",value:function(){for(var t=0,e=Object.keys(E);t<e.length;t++)for(var n=e[t],r=!1;!r;)try{var o=Math.random()<.5?A.X:A.Y,i=Math.floor(Math.random()*P),a=Math.floor(Math.random()*P);this.setShip(n,[i,a],o),r=!0}catch(t){}}},{key:"receiveAttack",value:function(t,e){var n=this,r=this.board[t][e];if(["miss","hit","sunk"].includes(r.state))return{result:x.ALREADY,coordinates:[t,e]};if("empty"===r.state)return this.board[t][e].state="miss",{result:x.MISS,coordinates:[t,e]};if("ship"===r.state){var o=r.shipName,i=this.fleet[o].ship;return i.hit(),this.board[t][e].state="hit",i.isSunk()?(this.fleet[o].coordinates.forEach(function(t){var e=Y(t,2),r=e[0],o=e[1];n.board[r][o].state="sunk"}),{result:x.SUNK,coordinates:[t,e],sunkShip:this.fleet[o]}):{result:x.HIT,coordinates:[t,e]}}}},{key:"allShipsPlaced",value:function(){return Object.keys(this.fleet).length===Object.keys(E).length}},{key:"allShipsSunk",value:function(){return Object.values(this.fleet).every(function(t){return t.ship.isSunk()})}}])}();const V=Q;function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach(function(e){nt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function nt(t,e,n){return(e=ot(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ot(r.key),r)}}function ot(t){var e=function(t){if("object"!=W(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==W(e)?e:e+""}var it=function(){return function(t,e){return e&&rt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Player",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e,this.isComputer=n,this.board=new V,this.attacks=new Set,this.targetQueue=[]},[{key:"attack",value:function(t,e,n){var r="".concat(e,",").concat(n);if(this.attacks.has(r))return{result:x.ALREADY,coordinates:[e,n],message:"".concat(this.name," already fired at (").concat(e,", ").concat(n,").")};this.attacks.add(r);var o=t.receiveAttack(e,n);return et(et({},o),{},{message:this._buildAttackMessage(o,e,n)})}},{key:"smartAttack",value:function(t){if(!this.isComputer)throw new Error("smartAttack should only be called for AI players");for(var e;this.targetQueue.length>0;){var n=J(this.targetQueue.shift(),2),r=n[0],o=n[1];if(r>=0&&r<P&&o>=0&&o<P&&!this.attacks.has("".concat(r,",").concat(o))){e=[r,o];break}}if(!e)do{e=[Math.floor(Math.random()*P),Math.floor(Math.random()*P)]}while(this.attacks.has("".concat(e[0],",").concat(e[1]))&&this.attacks.size<Math.pow(P,2));var i=this.attack(t,e[0],e[1]);if(i.result===x.HIT){var a=J(e,2),s=a[0],c=a[1];this.targetQueue.push([s-1,c],[s+1,c],[s,c-1],[s,c+1])}return i.result===x.SUNK&&(this.targetQueue=[]),i}},{key:"placeShipsRandomly",value:function(){return this.board.autoPlaceFleet(),this.board.fleet}},{key:"_buildAttackMessage",value:function(t,e,n){switch(t.result){case x.MISS:return"".concat(this.name," fired at (").concat(e,", ").concat(n,") and missed.");case x.HIT:return"".concat(this.name," scored a hit at (").concat(e,", ").concat(n,")!");case x.SUNK:return"".concat(this.name," sunk the ").concat(t.sunkShip.ship.name," at (").concat(e,", ").concat(n,")!");case x.ALREADY:return"".concat(this.name," already fired at (").concat(e,", ").concat(n,").");default:return"".concat(this.name," fired at (").concat(e,", ").concat(n,").")}}}])}();const at=it;function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var ct={mainContainer:document.querySelector(".main-container"),humanBoard:document.querySelector(".human-board"),computerBoard:document.querySelector(".computer-board"),shipsSelection:document.querySelector(".ships-selection"),infoEl:document.querySelector(".info"),axisBtn:document.querySelector(".axis-btn"),startGameBtn:document.querySelector(".start-game-btn"),clearBoardBtn:document.querySelector(".clear-board-btn"),playAgainBtn:document.querySelector(".play-again-btn"),popUp:document.querySelector(".pop-up"),popUpInput:document.querySelector(".pop-up input"),confirmNameBtn:document.querySelector(".confirm-name-btn"),selectedShip:"carrier",axis:A.X,gameStarted:!1,playerName:"Commander Erwin",init:function(){var t,e=this;M.drawBoard(this.humanBoard,P),M.drawBoard(this.computerBoard,P),this.shipsSelection.querySelectorAll(".ship").forEach(function(t){return t.classList.remove("selected","disabled")}),null===(t=this.shipsSelection.querySelector('[data-ship="'.concat(this.selectedShip,'"]')))||void 0===t||t.classList.add("selected"),M.showInfo(this.infoEl,"Place your ".concat(this.selectedShip,"!")),this.shipsSelection.addEventListener("click",function(t){var n,r=t.target.closest(".ship");r&&!r.classList.contains("disabled")&&(null===(n=e.shipsSelection.querySelector(".ship.selected"))||void 0===n||n.classList.remove("selected"),e.selectedShip=r.dataset.ship,r.classList.add("selected"),M.showInfo(e.infoEl,"Place your ".concat(e.selectedShip,"!")))}),this.humanBoard.addEventListener("mouseover",function(t){if(!e.gameStarted){var n=t.target.closest(".box");if(n){var r=+n.dataset.row,o=+n.dataset.column;e._showPlacementPreview(r,o)}}}),this.humanBoard.addEventListener("mouseout",function(){return M.clearPreviews(e.humanBoard)}),this.humanBoard.addEventListener("keydown",function(t){if("Enter"===t.key&&!e.gameStarted){var n=t.target.closest(".box");if(n){var r=+n.dataset.row,o=+n.dataset.column;e.handlePlaceShipOnHumanBoard(r,o,e.selectedShip)}}}),this.humanBoard.addEventListener("click",function(t){if(!e.gameStarted){var n=t.target.closest(".box");if(n){var r=+n.dataset.row,o=+n.dataset.column;e.handlePlaceShipOnHumanBoard(r,o,e.selectedShip)}}}),this.axisBtn.addEventListener("click",function(){e.axis=e.axis===A.X?A.Y:A.X,e.axisBtn.innerText=e.axis===A.X?"Axis: Horizontal":"Axis: Vertical"}),this.confirmNameBtn.addEventListener("click",function(){var t=e.popUpInput.value;null!=t&&t.trim()&&(e.playerName=t.trim()),e.player=new at(e.playerName),e.popUp.classList.remove("initial"),M.hidePopUp()}),this.startGameBtn.addEventListener("click",function(){return e.startGame()}),this.clearBoardBtn.addEventListener("click",function(){return e.resetBoard()}),this.playAgainBtn.addEventListener("click",function(){return e.resetBoard(!0)}),this.computerBoard.addEventListener("click",function(t){if(e.gameStarted){var n=t.target.closest(".box");if(n){var r=+n.dataset.row,o=+n.dataset.column;e.handleAttack(r,o)}}}),this.computerBoard.addEventListener("keydown",function(t){if(e.gameStarted&&"Enter"===t.key){var n=t.target.closest(".box");if(n){var r=+n.dataset.row,o=+n.dataset.column;e.handleAttack(r,o)}}})},_showPlacementPreview:function(t,e){var n=this;M.clearPreviews(this.humanBoard);for(var r=E[this.selectedShip],o=!0,i=[],a=0;a<r;a++){var s=this.axis===A.X?t:t+a,c=this.axis===A.X?e+a:e;if(s<0||s>=P||c<0||c>=P){o=!1;break}var l=this.humanBoard.querySelector('.box[data-row="'.concat(s,'"][data-column="').concat(c,'"]'));l&&!l.classList.contains("placed")||(o=!1),i.push([s,c])}i.forEach(function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return st(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),r=e[0],i=e[1],a=n.humanBoard.querySelector('.box[data-row="'.concat(r,'"][data-column="').concat(i,'"]'));a&&a.classList.add(o?"preview":"preview-invalid")})},handlePlaceShipOnHumanBoard:function(t,e,n){try{var r=this.player.board.setShip(n,[t,e],this.axis),o=r.ship,i=r.coordinates,a=r.axis;M.renderShipOnBoard(this.humanBoard,i,a,o,!1),M.clearPreviews(this.humanBoard),this.selectNextShip(n)}catch(n){var s=M.coordToLabel([t,e]);M.showInfo(this.infoEl,"".concat(n.message," (at ").concat(s,")"))}},selectNextShip:function(t){var e=this.shipsSelection.querySelector('[data-ship="'.concat(t,'"]'));if(e){e.classList.remove("selected"),e.classList.add("disabled");var n=this.shipsSelection.querySelector(".ship:not(.disabled)");if(!n)return M.showInfo(this.infoEl,"All ships placed! Ready to start the game."),void this.humanBoard.classList.add("placed");n.classList.add("selected"),this.selectedShip=n.dataset.ship,M.showInfo(this.infoEl,"Place your ".concat(this.selectedShip,"!"))}},startGame:function(){var t=this;this.player||(this.player=new at(this.playerName)),this.cPlayer=new at("AI",!0);var e=this.cPlayer.placeShipsRandomly();Object.values(e).forEach(function(e){var n=e.ship,r=e.coordinates,o=e.axis;M.renderShipOnBoard(t.computerBoard,r,o,n,!0)}),this.gameStarted=!0,this.mainContainer.classList.remove("initial"),M.showInfo(this.infoEl,"Game Started! Attack the AI!")},handleAttack:function(t,e){var n=this;if(this.gameStarted){var r=this.player.attack(this.cPlayer.board,t,e);if(r.result!==x.ALREADY){if(r.result===x.SUNK&&r.sunkShip){var o=r.sunkShip.coordinates;M.renderAttack(this.computerBoard,r.result,o,{shipName:r.sunkShip.ship.name}),M.showInfo(this.infoEl,"You sunk the enemy ".concat(r.sunkShip.ship.name,"!"))}else M.renderAttack(this.computerBoard,r.result,r.coordinates),r.result===x.HIT?M.showInfo(this.infoEl,"Hit at ".concat(M.coordToLabel(r.coordinates),"!")):r.result===x.MISS&&M.showInfo(this.infoEl,"Miss at ".concat(M.coordToLabel(r.coordinates),"."));if(this.cPlayer.board.allShipsSunk())return M.renderPopUp("".concat(this.playerName," wins!")),void(this.gameStarted=!1);setTimeout(function(){var t=n.cPlayer.smartAttack(n.player.board);if(t.result===x.SUNK&&t.sunkShip){var e=t.sunkShip.coordinates;M.renderAttack(n.humanBoard,x.SUNK,e,{shipName:t.sunkShip.ship.name}),M.showInfo(n.infoEl,"AI sunk your ".concat(t.sunkShip.ship.name,"!"))}else M.renderAttack(n.humanBoard,t.result,t.coordinates),t.result===x.HIT?M.showInfo(n.infoEl,"AI hit at ".concat(M.coordToLabel(t.coordinates),"!")):t.result===x.MISS&&M.showInfo(n.infoEl,"AI missed at ".concat(M.coordToLabel(t.coordinates),"."));if(n.player.board.allShipsSunk())return M.renderPopUp("AI wins!"),void(n.gameStarted=!1)},1e3)}else M.showInfo(this.infoEl,"Already attacked this spot. Try another!")}else M.showInfo(this.infoEl,"Start the game first!")},resetBoard:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];M.drawBoard(this.humanBoard,P),M.drawBoard(this.computerBoard,P),this.player=new at(this.playerName),this.selectedShip="carrier",this.gameStarted=!1,this.shipsSelection.querySelectorAll(".ship").forEach(function(t){t.classList.remove("disabled","selected")}),null===(t=this.shipsSelection.querySelector('[data-ship="'.concat(this.selectedShip,'"]')))||void 0===t||t.classList.add("selected"),this.humanBoard.classList.remove("placed"),M.showInfo(this.infoEl,"Game reset. Place your ships!"),e&&(this.mainContainer.classList.add("initial"),M.hidePopUp())}};const lt=ct;window.addEventListener("DOMContentLoaded",function(){lt.init()})})();